---
title: 本地拓展包
titleTag: 原创
date: 2022-01-08 14:34:32
permalink: /frontend/package/local/
categories:
  - 前端
  - 本地拓展包
tags:
---

## 本地包设置
在本地拓展包设置 `package.json` 。
```json
// package.json
{
  "name": "@tw-el/components",
  "version": "0.0.1",
  "description": "all components are settled here",
  "main": "index.ts",
  "module": "index.ts",
  "unpkg": "index.js",
  "jsdelivr": "index.js",
  "peerDependencies": {
    "vue": "^3.2.0"
  },
  "types": "index.d.ts",
  "sideEffects": false
}
```

## 项目包设置

```json
{
 // 要想安装本地包 必须设置为 private true
  "private": true, 

  "useWorkspaces": true,
  // 必须制定本地包的路径
  "workspaces": [
    "packages/*",
    "docs"
  ],
  "scripts": {
    "dev": "vite",
    ...
  },
  "peerDependencies": {
    "vue": "^3.2.0"
  },
  "dependencies": {
    // 本地包的引用
    "@tw-el/components": "workspace:*",
    ...
  },
  "devDependencies": {
    ...
  },
  "engines": {
    "node": ">= 16"
  }
}
```

## pnpm 设置

```yaml
// pnpm-workspace.yaml
packages:
  - packages/*
  - docs
```

只有设置好，才能使用 pnpm 安装本地包，软连接到 node_modules