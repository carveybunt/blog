---
title: vuex
date: 2022-04-15 10:53:26
permalink: /frontend/vue3/vuex/
titleTag: 原创
categories:
  - vue3
tags:
  - vuex
---
## install
```bash
npm install -S vuex@next
yarn add vuex@next --save
```

## setting
* 在`src`目录下建立文件夹`store`。
* 在`store`文件夹下建立文件`index.js`。
  ```js
  import {createStore} form "vuex";

  const store = createStore({
    state:{},// 存储状态
    getters:{},// 可以对 state 的数据进行运算
    actions:{},// 类似 mutations，异步操作。 
    mutations:{},// 改变state 数据的唯一途径就是 commit <mutations>。 类似事件。必须是同步函数
    modules:{}// 
  })

  export default store;
  ```
* 在项目的`main.js`中添加相关`store`代码：
  ```js
  import { createApp } from 'vue'
  import store from './store'
  import App from './App.vue'

  creatApp(App)
    .use(store)
    .mount('#app')
  ```

## use
在`*.vue`中使用
```vue

<template>
 // 从 store 中获取 xxx 的数据
{{xxx}}
</template>

<script setup>
...
import {mapState} from 'vuex'
...


export default {
  ...
  computed:{
    ...mapState(['xxx'])
    // 即从 ./store/index.js 中拿到 states 中的 xxx 的数据
  }
  ...
}
</script>
```